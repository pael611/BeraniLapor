<!DOCTYPE html>
<html lang="en">

{% include 'header.html' %}
<script>

    //  Menghapus isi textarea
    function cancel() {
        $("#komentar").val('');
    }

    function cancel() {
        $("#posting").val('');
    }


    function komen() {
        let komentar = $("#komentar").val();
        if (!komentar) {
            return alert("Masukkan komentar yang ingin Anda tambahkan!");
        }
        $.ajax({
            type: "POST",
            url: "/komentar",
            data: { komentar: komentar },
            success: function (response) {
                alert(response["msg"]);
                window.location.reload();
            }
        });
    }

    function posting() {
        let posting = $("#posting").val();
        if (!posting) {
            return alert("Masukkan komentar yang ingin Anda tambahkan!");
        }
        $.ajax({
            type: "POST",
            url: "/posting",
            data: { posting: posting },
            success: function (response) {
                alert(response["msg"]);
                window.location.reload();
            }
        });
    }

    // function posting() {
    //             let posting = $("#posting").val();
    //             if (!posting) {
    //             return alert("Masukkan sesuatu yang ingin Anda posting!");
    //     }
    //             $.ajax({
    //                 type: "POST",
    //                 url: "/posting",
    //                 data: { posting: posting },
    //                 success: function (response) {
    //                     alert(response["msg"]);
    //                     window.location.reload();
    //                 }
    //             });
    //         }

</script>

<body>
    <!-- Container -->
    <div class="container mt-4">
        <!-- Post Input -->
        <div class="d-flex justify-content-center align-items-center mb-3">
            <div class="me-3">
                <a href="#">
                    <img class="rounded" src="../static/assets/placeholder.jpg " alt="User Image" width="32"
                        height="32">
                </a>
            </div>
            <input id="input-post" class="form-control rounded-pill" style="max-width: 600px;"
                placeholder="Buat Postingan Baru" data-bs-toggle="modal" data-bs-target="#modalposting">
        </div>

        <!-- untuk postingan-->
        <div class="modal fade" id="modalposting" tabindex="-1" aria-labelledby="postinglabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #410404; color: white;">
                        <h5 class="modal-title " id="postinglabel">Tambah postingan</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body bg-body-tertiary">
                        <form>
                            <div class="mb-3">
                                <textarea class="form-control" id="posting" rows="3" required
                                    placeholder="ada cerita apa nih? yuk posting"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary" onclick="posting()">Submit</button>
                            <button type="button" class="btn btn-secondary" onclick="cancel()">hapus</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Post Card -->
        <div id="post-box" class="container">
            <div class="card card-forum mb-3  mx-auto w-100 w-sm-75 w-md-50">
                <div class="card-body mx-auto w-100 w-sm-75 w-md-50">
                    <div class="d-flex mb-3">
                        <a class="me-3 image-container" style="max-width: 112px; max-height: 112px;" href="#">
                            <img class="rounded" src="../static/assets/placeholder.jpg" alt="Image">
                        </a>
                        <div class="w-100 h-100">
                            <div class="card-title mb-1 card-tittle">User a <small class="text-muted">@user-a</small>
                            </div>
                            <div class="card-subtitle mb-2 text-muted card-info">10 minutes ago</div>
                            <div class="card-text-content">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Vel
                                molestiae, quae eum corporis amet veritatis natus iste illo ad sed architecto? Libero
                                numquam deleniti fugit, reprehenderit consequatur provident in quod ratione optio
                                aliquid veritatis animi pariatur repellat aliquam molestias aut doloribus, inventore
                                natus alias. Ab beatae, sunt ut ea aut voluptatem quasi quae? Tenetur fuga excepturi
                                sapiente, voluptate officia tempora consectetur aspernatur libero eaque vero tempore!
                                Qui vero enim illo soluta aut molestiae. Itaque tenetur neque at eius ab molestias earum

                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between flex-wrap align-items-center">
                        <div class="d-flex flex-wrap align-items-center">
                            <span class="cursor me-3" onclick="toggle_like('', 'heart')">
                                <i class="fa fa-heart" aria-hidden="true"></i> <span class="like-num">23.k</span>
                            </span>
                            <span class="cursor me-3 comment-trigger" data-post-id="#">
                                <i class="fa fa-commenting-o"></i> Comment 281
                            </span>
                        </div>
                        <!-- Modal Tambah Komentar -->
                        <div class="modal fade" id="Modalkomen" tabindex="-1" aria-labelledby="komentarLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #410404; color: white;">
                                        <h5 class="modal-title " id="komentarLabel">Tambah Komentar</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body bg-body-tertiary">
                                        <form>
                                            <div class="mb-3">
                                                <textarea class="form-control" id="komentar" rows="3" required
                                                    placeholder="Ketikkan komentar anda"></textarea>
                                            </div>
                                            <button type="submit" class="btn btn-primary"
                                                onclick="komen()">Submit</button>
                                            <button type="button" class="btn btn-secondary"
                                                onclick="cancel()">hapus</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-warning mt-2 mt-sm-0" data-bs-toggle="modal"
                            data-bs-target="#Modalkomen">
                            Komentar</button>

                    </div>
                </div>

            </div>

        </div>
        <!-- Additional posts can be added in a similar manner -->
    </div>

    <script>
        function post() {
            // Implement your post functionality here
        }

        function toggle_like(postId, element) {
            // Implement your like functionality here
        }
    </script>
</body>
{% include 'footer.html' %}


</html>